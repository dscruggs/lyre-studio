FROM oven/bun:1

WORKDIR /app
COPY src/frontend/package.json src/frontend/bun.lockb ./
RUN bun install --frozen-lockfile

COPY src/frontend .

# Build the React app
RUN bun run build

EXPOSE 5173
# Serve the built app, binding to all interfaces for Docker
CMD ["bunx", "serve", "dist", "-l", "tcp://0.0.0.0:5173"]
